<span us-spinner spinner-theme="page" ng-hide="dataLoaded"></span>

<div><small>{{vm.calcDate | date : 'MM/dd/yyyy' : 'UTC'}}</small></div>
<div class="row">
  <div class="col-xs-9 col-sm-10 col-md-11">
    <h4>Who is on Drop In?</h4>
  </div>
  <div class="col-xs-3 col-sm-2 col-md-1 padding-left-xs-0 text-right">
    <a href="" class="more-info-link" data-toggle="modal" data-target=".bs-modal-sm">More Info</a>
  </div>
</div>
<hr class="thin-top">

<!-- More Info Modal -->
<div class="modal fade bs-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="vertical-alignment-helper">
    <div class="modal-dialog modal-sm vertical-align-center">
      <div class="modal-content">
        <div class="modal-body">
          <div>
            This page shows a snapshot of all users signed up on the Drop In app.
            Drop In users can earn credits and redeem rewards at your bar, and are your audience for
            creating &amp; sending out events.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Total Users -->
<div class="col-md-6">
  <div class="data-panel">
    <div class="row chart-title">
      <div class="col-xs-4"></div>
      <div class="col-xs-4">
        <div class="text-center text-uppercase"><strong>Gender</strong></div>
      </div>
      <div class="col-xs-4"></div>
    </div>
    <div>
      <canvas id="pie" class="chart chart-pie"
        chart-data="vm.dataGender" chart-labels="vm.labelsGender" chart-colours="vm.coloursGender"
        chart-legend="false" chart-options="vm.chartOptionsGender">
      </canvas>
    </div>
    <div class="row text-center">
      <div class="col-xs-6 col-md-6">
        <div class="number-stat" style="color: #0B60F1">{{vm.totalMales}}</div>
        <div class="number-stat-label">Males</div>
      </div>
      <div class="col-xs-6 col-md-6">
        <div class="number-stat" style="color: #F44F72">{{vm.totalFemales}}</div>
        <div class="number-stat-label">Females</div>
      </div>
    </div>
  </div>
</div>

<!-- Loyalty Levels -->
<div class="col-md-6">
  <div class="data-panel">
    <div class="info-overlay" ng-show="showInfoB">
      <p>Guests = 0-2 credits</p>
      <p>Regulars = 3-11 credits</p>
      <p>VIPs = 12+ credits</p>
    </div>
    <div class="row chart-title">
      <div class="col-xs-4">
        <a href=""><i class="fa fa-info-circle fa-lg" style="color: #ccc" ng-click="showInfoB = !showInfoB"></i></a>
      </div>
      <div class="col-xs-4">
        <div class="text-center text-uppercase"><strong>Loyalty Levels</strong></div>
      </div>
      <div class="col-xs-4"></div>
    </div>
    <div>
      <canvas id="bar" class="chart chart-bar"
        chart-data="vm.dataLoyaltyLevels" chart-labels="vm.labelsLoyaltyLevels" chart-colours="vm.coloursLoyaltyLevels"
        chart-legend="false" chart-options="vm.chartOptionsLoyaltyLevels">
      </canvas>
    </div>
    <div class="row text-center">
      <div class="col-xs-4 col-md-4">
        <div class="number-stat" style="color: #4C92FF">{{vm.totalGuests}}</div>
        <div class="number-stat-label">Guests</div>
      </div>
      <div class="col-xs-4 col-md-4">
        <div class="number-stat" style="color: #16A085">{{vm.totalRegulars}}</div>
        <div class="number-stat-label">Regulars</div>
      </div>
      <div class="col-xs-4 col-md-4">
        <div class="number-stat" style="color: #CCAC00">{{vm.totalVips}}</div>
        <div class="number-stat-label">VIPs</div>
      </div>
    </div>
  </div>
</div>

<!-- Age -->
<div class="col-md-6">
  <div class="data-panel">
    <div class="row chart-title">
      <div class="col-xs-4"></div>
      <div class="col-xs-4">
        <div class="text-center text-uppercase"><strong>Age</strong></div>
      </div>
      <div class="col-xs-4"></div>
    </div>
    <div>
      <canvas id="doughnut" class="chart chart-doughnut"
        chart-data="vm.dataAge" chart-labels="vm.labelsAge" chart-colours="vm.coloursAge"
        chart-options="vm.chartOptionsAge">
      </canvas>
    </div>
    <div class="row text-center">
      <div class="col-xs-3 col-md-3">
        <div class="number-stat" style="color: #FFAA98">{{vm.age2124}}</div>
        <div class="number-stat-label">21-24</div>
      </div>
      <div class="col-xs-3 col-md-3">
        <div class="number-stat" style="color: #DE7862">{{vm.age2529}}</div>
        <div class="number-stat-label">25-29</div>
      </div>
      <div class="col-xs-3 col-md-3">
        <div class="number-stat" style="color: #BB513A">{{vm.age3034}}</div>
        <div class="number-stat-label">30-34</div>
      </div>
      <div class="col-xs-3 col-md-3">
        <div class="number-stat" style="color: #97301A">{{vm.age35Plus}}</div>
        <div class="number-stat-label">35+</div>
      </div>
    </div>
  </div>
</div>

